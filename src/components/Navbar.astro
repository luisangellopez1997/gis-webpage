---
import { Image } from "astro:assets";
import HorizontalSpace from "./HorizontalSpace.astro";
import LogoBig from "../assets/logo-big.png";

const links = [
  { name: "Inicio", href: "/" },
  { name: "Empresa", href: "/empresa" },
  { name: "Servicios", href: "/servicios" },
  { name: "Sucursales", href: "/sucursales" },
  { name: "Contactos", href: "/contacto" },
];

const pathname = Astro.url.pathname;
---

<div class="absolute top-10 left-0 w-full z-20">
  <HorizontalSpace>
    <div class="bg-white rounded-lg pr-4 flex justify-between items-center">
      <div>
        <Image src={LogoBig} alt="logo" height="110" class="rounded-full w-[500px]" />
      </div>
      <div
        class="flex justify-end items-center w-full text-primary font-bold text-sm"
      >
        {
          links.map(({ name, href }) => {
            const thisPage = new RegExp(href + "$", "g").test(pathname);
            return (
              <div class="py-14 px-6 relative flex-1 text-center">
                <a href={href} class="">{name}</a>
                <div
                  class={`w-full bg-primary h-1 absolute bottom-0 left-0 right-0 ${thisPage ? "" : "hidden"}`}
                />
              </div>
            );
          })
        }
      </div>
    </div>
  </HorizontalSpace>
</div>
